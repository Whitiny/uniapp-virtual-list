# baizc-virtual-list

# 问题列表
## 问题一
- 方案：在虚拟列表组件内部进行可视的列表项数组构造以及 v-for 模板遍历，父组件通过 slot 传递列表单项模板，由`作用域插槽`获取列表项数据进行渲染，减少复用组件时的代码量
- 问题：小程序端，渲染的数组部分改变时，已渲染的列表项图片会闪烁一次
- 猜测：所有列表项都重新渲染了一遍，意味着了失去就地复用的优化；小程序的对象类型 props 参数传递，是通过 JSON 的 `stringfy`、`parse` 方法来实现的，所以任何通过跨组件数据渲染的模板都会变为全量更新
- 解决：将列表项的 v-for 遍历和列表模板渲染放置在同一组件层级

## 问题二
- 方案：基于`问题一`，列表的模板遍历在外部进行，不渲染的列表项高度在组件内用 padding 占位
- 问题：小程序端，渲染的数组部分改变时，所有列表项都会重新渲染一遍，表现为图片闪烁（刷新），也意味着失去就地复用的优化
- 猜测：小程序的对象类型 props 参数传递，是通过 JSON stringfy parse 处理来实现的，所以任何通过跨组件数据渲染的模板都会变为全量更新
- 解决：将列表项的 v-for 遍历和列表模板渲染放置在同一组件层级